"use strict";var f7={};f7.popup={},f7.plugin={},f7.hack={},f7.command={},f7.module={},f7.validate={},f7.tool={},f7.plugin._register=function(){return{header:f7.plugin.header,footer:f7.plugin.footer,fileAsyncUpdate:f7.plugin.fileAsyncUpdate,form:f7.plugin.form,moduleInit:f7.plugin.moduleInit,preview:f7.plugin.preview}},f7.hack._register=function(){return{}},f7.module.initialize=function(){var t=f7.plugin._register(),i=f7.hack._register();for(var n in t)t.hasOwnProperty(n)&&"function"==typeof t[n]&&t[n]();for(var o in i)i.hasOwnProperty(o)&&"function"==typeof i[o]&&i[o]()},function(t){t(function(){var i=t("main").attr("id"),n=null,o=null;i&&(n=i.replace("-","_"),o=n.split("_")[0],o in f7.module&&f7.module[o](),n in f7.module&&f7.module[n]()),f7.module.initialize()})}(jQuery);var popup={config:{isInitLoading:!1,isInitInfo:!1,isInitAlert:!1,isInitPanel:!1,isInitFormError:!1,isInitToolTip:!1}};popup.loading={init:function(){var t=popup.config;return t.isInitLoading||(t.isInitLoading=!0,$.extend(this,f7.popup.loading())),this}},popup.info={init:function(){var t=popup.config;return t.isInitInfo||(t.isInitInfo=!0,$.extend(this,f7.popup.info())),this}},popup.alert={init:function(){var t=popup.config;return t.isInitAlert||(t.isInitAlert=!0,$.extend(this,f7.popup.alert())),this}},popup.panel={init:function(){var t=popup.config;return t.isInitPanel||(t.isInitPanel=!0,$.extend(this,f7.popup.panel())),this}},popup.formError={init:function(){var t=popup.config;return t.isInitFormError||(t.isInitFormError=!0,$.extend(this,f7.popup.formError())),this}},popup.toolTip={init:function(){var t=popup.config;return t.isInitToolTip||(t.isInitToolTip=!0,$.extend(this,f7.popup.toolTip())),this}},f7.module.Index_index=function(){},f7.module.Login_index=function(){$.fn.drag=function(t){function i(){$(".drag-text").html(""),$(".drag-bg").html("<b>验证通过</b>"),$(".handler").attr("data-done",1).html('<i class="fa fa-check-circle"></i>'),r.unbind("mousedown"),$(document).unbind("mousemove"),$(document).unbind("mouseup")}var n,o=this,e=!1,a={};t=$.extend(a,t),o.html(""),$(".handler").data("done",0);var p='<div class="drag-bg"></div><div class="drag-text" onselectstart="return false;" unselectable="on">拖动滑块验证</div><div class="handler"><i class="fa fa-angle-double-right"></i></div>';this.append(p);var r=o.find(".handler"),u=o.find(".drag-bg"),s=(o.find(".drag-text"),o.width()-r.width());r.mousedown(function(t){e=!0,n=t.pageX-parseInt(r.css("left"),10)}),$(document).mousemove(function(t){var a=t.pageX-n;e&&(a>0&&a<=s?(r.css({left:a}),u.css({width:a}),o.find(".drag-text").text("")):a>s&&i())}).mouseup(function(t){e=!1;var i=t.pageX-n;i<s&&(r.css({left:0}),u.css({width:0}),o.find(".drag-text").text("拖动滑块验证"))})},$("#drag").drag(),function(){var t=$(".form"),i=t.find("ul");i.on("click","a",function(n){n.stopPropagation(),n.preventDefault(),i.find("a").removeClass("current");var o=$(n.target),e=o.data("id");o.addClass("current"),t.find("form").hide().end().find("#"+e).show()})}(),function(){var t=$("#admin"),i=$('input[name="login_username"]',t),n=$('input[name="login_password"]',t),o=$(":submit",t),e=f7.validate,a=popup.formError;t.on("focus","input:focus",function(t){a.init().hide()}).on("_formError.custom",function(t,i){$("#drag").drag(),o.removeClass("btn-disabled")}).on("click",":submit",function(t){if(o.is(".btn-disabled"))t.preventDefault(),t.stopPropagation();else{if(a.init(),!a.show(i,e.username(i)))return!1;if(!a.show(n,e.password(n)))return!1;if(1!=$(".handler").data("done"))return popup.info.init().show("请滑动验证",!1),!1;o.addClass("btn-disabled")}})}()},f7.plugin.fileAsyncUpdate=function(){function t(t,n){"undefined"==typeof n&&(n="on"),t.attr("data-ajax",n).removeAttr("enctype").prepend('<input type="hidden" name="_isDataFile" value="1"/>').on("change",":file",function(t){var n=this,o=$(this),e=o.data("type"),a=[],p=null;if(n.files.length)for(var r=0,u=n.files.length;r<u;r++)p=i(n.files[r],e),$.isPlainObject(p)&&a.push(p);1==a.length?o.data("data",a[0]):a.length>1&&o.data("data",a)})}function i(t,i){var n=new FileReader,o={};return n.readAsDataURL(t),n.onload=function(n){switch(i){case"image":/^image\/\w+$/.test(t.type)||(popup.alert.init(),popup.alert.show("上传 文件 必须为图片！"))}return o.data=this.result.split(",")[1],o.name=t.name,o.type=t.type,o.size=t.size,o},n.onerror=function(t){popup.alert.init(),popup.alert.show("文件读取错误！")},o}var n=$('form[method="post"][action*="Handle"]'),o=$(":file",n);n.length&&o.length&&"undefined"!=typeof FileReader&&n.each(function(i,n){var o=$(n),e=o.data("ajax-check"),a=$(":file",o);"off"!=e&&a.length&&t(o)}),f7.plugin.fileAsyncUpdate.register=t},f7.plugin.footer=function(){},f7.plugin.form=function(){var t=$("form"),i=$("html"),n={},o="bindSubmit";t.length&&!i.data(o)&&(i.data(o)||i.data(o,!0),popup.loading.init(),i.on("submit",'form[method="post"][action*="Handle"],form[method="post"][data-force-async="on"]',function(t){var i=$(t.target),o=i.data("ajax"),e=i.find('input[name!=""],select[name!=""],textarea[name!=""]'),a=i.attr("action");"off"!=o&&(n={},t.stopPropagation(),t.preventDefault(),i.data("is-post-data")?n=i.data("post-data"):e.each(function(t,i){var o=$(this),e=o.attr("name"),a=o.val(),p="",r="",u=null;return!e||void(o.is(":checkbox:checked")?(e in n||(n[e]=[]),n[e].push(a)):o.is(":radio:checked")?(p=/\[(.+)\]$/,p.test(e)?(r=e.replace(p,""),u=e.match(p),r in n||(n[r]={}),n[r][u[1]]=a):n[e]=a):o.is(":radio")||o.is(":checkbox")||o.is(":file")?o.is(":file")&&!function(){var t=o,i=o.data("type"),a=t.data("data"),p=null;if(a&&$.isArray(a)&&a.length)for(var r in a)switch(p=a[r],i){case"image":if(!/^image\/\w+$/.test(p.type))return void popup.alert.init().show("上传 文件 必须为图片！")}n[e]=a}():(p=/\[\]$/,p.test(e)?(r=e.replace(p,""),r in n||(n[r]=[]),n[r].push(a)):n[e]=a))}),popup.loading.init(),$.post(a,n,function(t){var i=/^<!DOCTYPE html>/i,o=f7.plugin.form;i.test(t)?o.disposeHtml(t,n):o.disposeJSON(t)}))}))},f7.plugin.form.disposeHtml=function(t,i){var n=popup.panel,o=/(<main[\s\S]+?>[\s\S]+?<\/main>)/gim,e=t.match(o),a=e?$(e[0]):$(t),p='<a class="btn-close-x" href="#" title="关闭"></a>';a.append(p),n.init().show(a),a.data("async-update")?$("html").trigger("_asyncUpdate.custom",i):a.data("script-init")&&!function(){var t=a.attr("id").replace("-","_"),i=f7.module;t=t.charAt(0).toUpperCase()+t.slice(1),t in i?i[t]():console.info("不存在 "+t)}()},f7.plugin.form.disposeJSON=function(t){$.isPlainObject(t)?"_type"in t&&"field"==t._type&&!t._status?!function(){var i=$('input[name="'+t._field+'"]'),n=popup.formError;i.length?n.init().show(i,n.data(t)):popup.alert.init().show("Error description is not exist !"),i.parents("form").triggerHandler("_formError.custom",t)}():t.status?(popup.info.init().show(t.info),setTimeout(function(){location.href=t.url},1500)):popup.alert.init().show(t.info):popup.panel.init().show(t+'<a class="btn-close-x" href="#" title="关闭"></a>')},f7.plugin.header=function(){},f7.plugin.moduleInit=function(){var t=$("html"),i=$('a[data-module-init="on"]',t);i.length&&t.on("click",'a[data-module-init="on"]',function(t){t.preventDefault();var i=$(this),n=i.attr("href"),o={};"on"==i.data("save-data")&&(o=function(){var t=i.parents("form").find('input[name!=""],select[name!=""],textarea[name!=""]'),n={};return t.each(function(t,i){var o=$(this),e=o.attr("name"),a=o.val(),p="",r="",u=null;return!e||void(o.is(":checkbox:checked")?(e in n||(n[e]=[]),n[e].push(a)):o.is(":radio:checked")?(p=/\[(.+)\]$/,p.test(e)?(r=e.replace(p,""),u=e.match(p),r in n||(n[r]={}),n[r][u[1]]=a):n[e]=a):o.is(":radio")||o.is(":checkbox")||o.is(":file")?o.is(":file")&&!function(){var t=o,i=o.data("type"),a=t.data("data"),p=null;if(p&&$.isArray(p)&&p.length)for(var r in a)switch(p=a[r],i){case"image":if(!/^image\/\w+$/.test(p.type))return void popup.alert.init().show("上传 文件 必须为图片！")}n[e]=a}():(p=/\[\]$/,p.test(e)?(r=e.replace(p,""),r in n||(n[r]=[]),n[r].push(a)):n[e]=a))}),n}()),popup.loading.init(),$.get(n,o,function(t){if($.isPlainObject(t))popup.alert.init().show(t.info);else{var i=popup.panel,n=/(<main[\s\S]+?>[\s\S]+?<\/main>)/gim,o=t.match(n),e=o?$(o[0]):$(t),a='<a class="btn-close-x" href="#" title="关闭"></a>';e.append(a),i.init().show(e),o&&o.length&&!function(){var t=e.attr("id").replace("-","_"),i=f7.module;t=t.charAt(0).toUpperCase()+t.slice(1),t in i&&($("html").off("_asyncUpdate.custom"),i[t](),f7.plugin.form())}()}})})},f7.plugin.preview=function(){var t=$('a[data-preview="true"]');if(t.length){var i=popup.panel,n=$("main");n.on("click",'a[data-preview="true"]',function(t){t.preventDefault(),t.stopPropagation();var n=$(this),o=n.attr("href"),e=n.data("preview-type"),a="";switch(e){case"image":default:a=['<div class="preview">','<a class="btn-close-x" href="#" title="关闭"></a>','<img class="preview-image" src="'+o+'" alt="预览" title="预览"/>',"</div>"]}i.init().show(a.join(""))})}},f7.popup.alert=function(){function t(){$('<div id="popup-alert-mask"></div>').appendTo("html").css({opacity:.4}),$(['<div id="popup-alert">','<div class="popup-alert-title">',"<span>提示：</span>",'<a class="popup-alert-btn-close" href="#" title="关闭"><i class="fa fa-times fa-2x"></i></a>',"</div>",'<div class="popup-alert-content"></div>','<div class="popup-alert-operate">','<a class="popup-alert-btn-confirm" href="#" title="确定">确　定</a>',"</div>","</div>"].join("")).appendTo("html")}function i(){var t=$(window).width(),i=$(window).height(),n=i,o=$("#popup-alert").width(),e=$("#popup-alert").height();i<$(document).height()&&(i=$(document).height()),$("#popup-alert-mask").css({height:i}),$("#popup-alert").css({left:(t-o)/2,top:(n-e)/2+$(window).scrollTop()})}function n(t,n,s,l){var f=$("#popup-alert"),d=$(".popup-alert-title",f),c=$(".popup-alert-operate").empty(),h="popup-alert-title-success",m="#";t="<p>"+t+"</p>",n&&!$.isEmptyObject(n)&&$.isPlainObject(n)?(("confirm"in n&&"function"==typeof n.confirm||"confirmUrl"in n)&&("confirmUrl"in n&&(m=n.confirmUrl),"confirm"in n&&(r=n.confirm),c.append('<a class="btn btn-confirm" href="'+m+'" title="确定">确　定</a>')),"cancel"in n&&"function"==typeof n.cancel&&(u=n.cancel,c.append('<a class="btn btn-cancel" href="#" title="取消">取　消</a>'))):(c.append('<a class="popup-alert-btn-confirm" href="#" title="确定">确　定</a>'),r=null,u=null),s?d.hasClass(h)||d.addClass(h):d.hasClass(h)&&d.removeClass(h),l?d.find("span").text(l):d.find("span").text("提示："),i(),$("#popup-alert-mask").show(),f.find(".popup-alert-content").html(t).end().fadeIn("fast"),setTimeout(i,10),$(window).on({"resize.popup_alert":i,"scroll.popup_alert":i}),f.on({click:o},".popup-alert-btn-close,.popup-alert-btn-confirm"),r&&(f.on({click:e},".btn-confirm"),f.on({click:a},".btn-cancel")),p=f7.popup.drag("#popup-alert","#popup-alert .popup-alert-title")}function o(t){var i=$(t.target).closest("a");i.length&&"#"==i.attr("href")&&(t.stopPropagation(),t.preventDefault());var n=$("#popup-alert");$("#popup-alert-mask").fadeOut("fast"),n.hide(),$(window).off(".popup_alert"),n.off({click:o},".popup-alert-btn-close,.popup-alert-btn-confirm"),r&&(n.off({click:e},".btn-confirm"),n.off({click:a},".btn-cancel")),p.unregister()}function e(t){r&&r(t),o(t)}function a(t){t.stopPropagation(),t.preventDefault(),u&&u(t),o(t)}var p=null,r=null,u=null;return t(),{show:n,hide:o}},f7.popup.drag=function(t,i){function n(i){i.stopPropagation(),i.preventDefault(),s=!0;var n=$(t).offset();l=i.clientX-n.left,f=i.clientY-n.top}function o(i){if(s){i.stopPropagation(),i.preventDefault();var n=$(t),o=n.width(),e=n.height(),a=$(window),p=a.width(),d=a.height(),c=i.clientX-l,h=i.clientY-f;c=c<0?0:c,h=h<0?0:h,d<r&&(d=r),c=c+o>p?p-o:c,h=h+e>d?d-e:h,$(t).css({left:c,top:h}),u.init().hide(!0)}}function e(t){s=!1}function a(){$(i).on({"mousedown.popup_move":n}),$(document).on({"mousemove.popup_move":o,"mouseup.popup_move":e})}function p(){$(i).off(".popup_move"),$(document).off(".popup_move")}var r=$(document).height(),u=popup.formError,s=!1,l=0,f=0;return a(),{register:a,unregister:p}},f7.popup.formError=function(){function t(){$(['<div id="popup-form-error">','<span class="arrow"></span>','<p class="popup-form-error-content"></p>',"</div>"].join("")).appendTo("html")}function i(){var t=$("#popup-form-error"),i=a.innerWidth(),n=a.innerHeight(),o=a.offset(),e=a.css("font-size");i<50?(i=240,n=30,t.css({left:o.left,top:o.top+n,width:i,minHeight:n,fontSize:e,lineHeight:n+"px",borderRadius:"3px"})):a.is("textarea")?t.css({left:o.left,top:o.top+n,width:i,minHeight:30,lineHeight:"30px",fontSize:e,borderRadius:"0 0 3px 3px"}):t.css({left:o.left,top:o.top+n,width:i,minHeight:n,lineHeight:n+"px",fontSize:e,borderRadius:"0 0 3px 3px"})}function n(t,n){var o=$("#popup-form-error"),e="popup-form-error",p='<i class="fa fa-times-circle-o fa-fw fa-lg"></i>'+n.info;return a=t,n.status?(a.hasClass("error")&&a.removeClass("error"),o.hasClass(e)&&o.removeClass(e),!0):(a.hasClass("error")||a.addClass("error"),o.hasClass(e)||o.addClass(e),setTimeout(i,10),setTimeout(function(){o.find(".popup-form-error-content").html(p).end().fadeIn("fast")},12),$(window).on({"resize.popup_error_form":i,"scroll.popup_error_form":i}),!1)}function o(t){var i=$("#popup-form-error");t?i.hide():(i.fadeOut("fast"),a&&a.hasClass("error")&&a.removeClass("error")),$(window).off(".popup_error_form")}function e(t){return"_status"in t&&"_info"in t?{status:t._status,info:t._info}:{status:!1,info:"Error description is not exist !"}}var a=null;return t(),{show:n,hide:o,data:e}},f7.popup.info=function(){function t(){$(['<div id="popup-info">','<div class="popup-info-content"></div>',"</div>"].join("")).appendTo("html")}function i(){var t=$(window).width(),i=$(window).height(),n=i,o=$("#popup-info").width(),e=$("#popup-info").height();i<$(document).height()&&(i=$(document).height()),$("#popup-info").css({left:(t-o)/2,top:(n-e)/2+$(window).scrollTop()})}function n(t,n){"boolean"!=typeof n&&(n=!0),i();var e=$("#popup-info"),a="popup-info-error";n?e.hasClass(a)&&e.removeClass(a):e.hasClass(a)||e.addClass(a),e.find(".popup-info-content").html(t).end().fadeIn("fast"),setTimeout(i,10);setTimeout(o,f7.popup.info.config.hideTime);$(window).on({"resize.popup_info":i,"scroll.popup_info":i})}function o(t){e&&clearTimeout(e),$("#popup-info").fadeOut("fast"),$(window).off(".popup_info")}var e;return t(),{show:n,hide:o}},f7.popup.info.config={hideTime:3e3},f7.popup.loading=function(){function t(t){a=t,$('<div id="popup-loading-mask"></div>').appendTo("html").css({opacity:.4}),$(['<div id="popup-loading">','<div class="popup-loading-content"></div>',"</div>"].join("")).appendTo("html"),$(['<div id="loading-track"></div>'].join("")).appendTo("html"),$("#popup-loading").ajaxStart(function(){a?o():o("正在处理...请稍后...")}).ajaxSend(function(t,i,n){}).ajaxStop(function(){e()}).ajaxSuccess(function(t,i,n){}).ajaxComplete(function(){}).ajaxError(function(t,i,n){popup.alert.init(),popup.alert.show("请求不可达！请稍后再试！")})}function i(){var t=$(window).width(),i=$(window).height(),n=i,o=$("#popup-loading").width(),e=$("#popup-loading").height();i<$(document).height()&&(i=$(document).height()),$("#popup-loading-mask").css({height:i}),$("#popup-loading").css({left:(t-o)/2,top:(n-e)/2+$(window).scrollTop()}),$("#loading-track").css({left:0,top:$(window).scrollTop()})}function n(t){t=t?'<i class="fa fa-spinner fa-spin fa-lg"></i>'+t:'<i class="fa fa-spinner fa-spin fa-lg"></i>正在处理...请稍后...',$("#popup-loading").find(".popup-loading-content").html(t)}function o(t){i(),a||(n(t),$("#popup-loading-mask").show(),$("#popup-loading").fadeIn("fast")),$("#loading-track").css("visibility","visible").animate({width:.8*$(window).width()},800,function(){}),$(window).on({"resize.popup_loading":i,"scroll.popup_loading":i})}function e(){a||($("#popup-loading-mask").fadeOut("fast"),$("#popup-loading").fadeOut("fast")),$("#loading-track").stop().animate({width:$(window).width()},300,function(){$(this).css({width:0,visibility:"hidden"})}),$(window).off(".popup_loading")}var a=!0;return t(!0),{show:o,hide:e}},f7.popup.panel=function(){function t(){$('<div id="popup-panel-mask"></div>').appendTo("html").css({opacity:.5}),$('<div id="popup-panel"></div>').appendTo("html")}function i(){var t=$(window).width(),i=$(window).height(),n=i,o=$("#popup-panel").width(),e=$("#popup-panel").height();i<$(document).height()&&(i=$(document).height()),$("#popup-panel-mask").css({height:i}),$("#popup-panel").css({left:(t-o)/2,top:(n-e)/2+$(window).scrollTop()})}function n(t){i(),$("#popup-panel-mask").show(),$("#popup-panel").html(t).fadeIn("fast"),setTimeout(i,10),$(window).on({"resize.popup_panel":i,"scroll.popup_panel":i}),$("#popup-panel").on({click:a},".btn-close,.btn-close-x,.btn-cancel").on({click:e},".btn-confirm").find('form[data-ajax="off"]').on("submit",e),p=$("#popup-panel").find("header").length?f7.popup.drag("#popup-panel","header"):f7.popup.drag("#popup-panel","#popup-panel")}function o(){$("#popup-panel-mask").fadeOut("fast",function(){$("#popup-panel").html("")}),$("#popup-panel").hide(),$(window).off(".popup_panel"),$("#popup-panel").off("click").off("submit"),p.unregister()}function e(t){t.preventDefault(),t.stopPropagation(),o();var i=$(t.target).closest('form[data-ajax="off"]');i.length&&!function(){var t=f7.command,n=t["default"],o=i.attr("action"),e=$("body").attr("id").replace("-","_"),a=o.split("/").pop().replace(/\.html/i,"").replace(/_?handle$/i,"Handle");e in t&&a in t[e]?t[e][a](o,i):a in n?n[a](o,i):console.log("f7.command."+e+"."+a+"() 方法不存在！")}()}function a(t){t.preventDefault(),t.stopPropagation(),popup.formError.init().hide(!0),o();var i=$(t.target).closest('form[data-ajax="off"]');i.length&&!function(){var t=f7.command,n=t["default"],o=i.attr("action"),e=$("body").attr("id").replace("-","_"),a=o.split("/").pop().replace(/\.html/i,"").replace(/_?handle$/i,"Cancel");e in t&&a in t[e]?t[e][a](o,i):a in n?n[a](o,i):console.log("f7.command."+e+"."+a+"() 方法不存在！")}()}var p=null;return t(),{show:n,hide:o}},f7.popup.toolTip=function(){function t(){$(['<div id="popup-tool-tip">','<span class="arrow"></span>','<p class="popup-tool-tip-content"></p>',"</div>"].join("")).appendTo("html")}function i(){var t=$("#popup-tool-tip"),i=e.outerWidth(),n=e.outerHeight(),o=e.offset(),a=e.css("font-size");t.css({left:o.left+(i-t.outerWidth())/2,top:o.top+n+10,fontSize:a,lineHeight:n+"px",borderRadius:"3px"})}function n(t,n){var o=$("#popup-tool-tip");return e=t,setTimeout(i,10),setTimeout(function(){o.find(".popup-tool-tip-content").html(n).end().show()},12),setTimeout(i,20),$(window).on({"resize.popup_tool_tip":i,"scroll.popup_tool_tip":i}),!1}function o(){var t=$("#popup-tool-tip");t.hide(),$(window).off(".popup_tool_tip")}var e=null;return t(),{show:n,hide:o}},f7.storage={getModuleName:function(){return $("body").attr("id")},getData:function(t){return t||(t=this.getModuleName()),JSON.parse(localStorage.getItem(t))||{}},setData:function(t,i){return i||(i=this.getModuleName()),localStorage.setItem(i,JSON.stringify(t)),t},removeData:function(t){t||(t=this.getModuleName());var i={};return localStorage.setItem(t,JSON.stringify(i)),i},getItem:function(t,i){var n=this.getData(i);return n[t]},setItem:function(t,i,n){var o=this.getData(n);return o[t]=i,this.setData(o,n),o},removeItem:function(t,i){var n=this.getData(i);return delete n[t],this.setData(n,i),n},clear:function(){localStorage.clear()}},f7.tool.safeguardData=function(t,i,n){t=$.trim(t),i=i?i:3,n=n?n:4;for(var o=t.length,e=o-i-n,a="",p=0;p<e;p++)a+="*";return t.substr(0,i)+a+t.substr(-n)},f7.tool.formatMoney=function(t,i){t=t.toFixed(i?i:0);for(var n=/(-?\d+)(\d{3})/;n.test(t);)t=t.replace(n,"$1,$2");return t},f7.tool.getUrlParam=function(t){var i=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),n=window.location.search.substr(1).match(i);return n?unescape(n[2]):null},f7.tool.getUrlFragment=function(t){var i=new RegExp("(^|#)"+t+"=([^&#]*)(#|$)"),n=window.location.hash.substr(1).match(i);return n?unescape(n[2]):null},f7.tool.formatTel=function(t){return t+="",t.replace(/^(\d{3})(\d{4})(\d{4})$/,"$1 $2 $3")},f7.tool.formatQQ=function(t){return t+="",t.replace(/^(\d{4})(\d+)$/,"$1 $2")},f7.tool.formatWechat=function(t){return t+="",t.replace(/^(\d{3})(\d{4})(\d+)$/,"$1 $2 $3")},f7.validate.output=function(t,i){return{status:!!i&&i,info:t}},f7.validate.telAndEmail=function(t){var i=$.trim(t.val());return i.indexOf("@")==-1?this.tel(t):this.email(t)},f7.validate.isUsernameType=function(t){var i=$.trim(t.val());return i.indexOf("@")==-1?"tel":"email"},f7.validate.rechargeMoney=function(t,i){var n=parseInt($.trim(t.val()),10);return i=parseInt(i),parseInt(n)?/^[0-9]+$/.test(n)?i>0&&n>i?output("本次最多可充值："+i+" 元！"):this.output("",!0):this.output("充值金额 输入错误！"):this.output("请输入 充值金额！")},f7.validate.withdrawMoney=function(t,i){var n=parseInt($.trim(t.val()),10);return i=parseInt(i),n?/^[0-9]+$/.test(n)?i>0&&n>i?this.output("本次最多可提取："+i+" 元！"):this.output("",!0):this.output("提现金额 输入错误！"):this.output("请输入 提现金额！")},f7.validate.bankId=function(t){var i=$.trim(t.val());return i?this.output("",!0):this.output("请选择 开户银行！")},f7.validate.bankCardNo=function(t){var i=$.trim(t.val()),n="10,18,30,35,37,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,58,60,62,65,68,69,84,87,88,94,95,98,99",o=i.substr(0,i.length-1),e=i.substr(i.length-1,1),a=[],p=[],r=[],u=[];if(i.length<16||i.length>19)return this.output("银行卡号 长度必须在16或19位！");if(!/^\d{16}|\d{19}$/.exec(i))return this.output("银行卡号 必须为数字!");if(n.indexOf(i.substring(0,2))===-1)return this.output("银行卡号 格式错误！");for(var s=o.length-1;s>-1;s--)a.push(o.substr(s,1));for(var l=0;l<a.length;l++)(l+1)%2===1?2*parseInt(a[l])<9?p.push(2*parseInt(a[l])):r.push(2*parseInt(a[l])):u.push(a[l]);for(var f=[],d=[],c=0;c<r.length;c++)f.push(parseInt(r[c])%10),d.push(parseInt(r[c])/10);for(var h=0,m=0,v=0,g=0,w=0,b=0;b<p.length;b++)h+=parseInt(p[b]);for(var x=0;x<u.length;x++)m+=parseInt(u[x]);for(var _=0;_<f.length;_++)v+=parseInt(f[_]),g+=parseInt(d[_]);w=parseInt(h)+parseInt(m)+parseInt(v)+parseInt(g);var I=parseInt(w)%10===0?10:parseInt(w)%10,y=10-I;return e!=y?this.output("银行卡号 错误！"):this.output("",!0)},f7.validate.questionTypeId=function(t){var i=$.trim(t.val());return i?this.output("",!0):this.output("请选择 类型！")},f7.validate.questionTitle=function(t){var i=$.trim(t.val()),n=i.length;return""===i?this.output("标题 不能为空！"):n<6?this.output("标题 不能小于6个字符！"):this.output("",!0)},f7.validate.questionContent=function(t){var i=$.trim(t.val()),n=i.length;return""===i?this.output("内容 不能为空！"):n<16?this.output("内容 不能小于16个字符！"):this.output("",!0)},f7.validate.futureCustomQuantity=function(t,i){var n=$.trim(t.val()),o=/^[0-9]+$/;return o.test(n)?n>i?this.output("交易数量 不能大于"+i+"手！"):n<=0?this.output("交易数量 不能小于1手！"):this.output("",!0):this.output("交易数量 必须为数字！")},f7.validate.futureDeposit=function(t,i,n,o,e){var a=$.trim(t.val()).replace(/,/g,""),p=/^[0-9]+$/,r=f7.tool.formatMoney;return""===a?this.output("请输入 保证金！"):p.test(a)?a>i*e?this.output("保证金 不能大于 总投资金额！"):a<o*e?this.output("保证金 不能低于 "+r(o*e)+"元"):a%100!==0?this.output("保证金 必须为100元的整数倍！"):this.output("",!0):this.output("保证金 输入错误！")},f7.validate.futureAccountType=function(t){t=t.filter(":checked:not(:disabled)");var i=t.val();return t.length?i?this.output("",!0):this.output("请选择 操作账户！"):this.output("抱歉 申请用户太多，请稍候再来！")},f7.validate.commentContent=function(t){var i=$.trim(t.val()),n=i.length;return""===i?this.output("评论内容 不能为空！"):n>256?this.output("评论内容 不能小于256个字符！"):this.output("",!0)},f7.validate.username=function(t){var i=$.trim(t.val()),n=i.length;return""===i?this.output("用户名 不能为空！"):n<6?this.output("用户名 不能小于6个字符！"):n>16?this.output("用户名 不能大于16个字符！"):this.output("",!0)},f7.validate.realUsername=function(t){var i=$.trim(t.val()),n=i.length;return""===i?this.output("姓名 不能为空！"):n<2?this.output("姓名 不能小于2个字符！"):n>6?this.output("姓名 不能大于6个字符！"):this.output("",!0)},f7.validate.birthday=function(t){var i=$.trim(t.val()),n=/^\d{4}(\/|\-)\d{1,2}(\/|\-)\d{1,2}$/i;return""===i?this.output("生日 不能为空！"):n.test(i)?this.output("",!0):this.output("生日 格式错误！")},f7.validate.gender=function(t){return t.filter(":checked").length?this.output("",!0):this.output("请选择 性别！")},f7.validate.appearance=function(t,i){return t.filter(":checked").length?this.output("",!0):this.output("请选择 "+i+"！")},f7.validate.addressId=function(t,i){var n=$.trim(t.val());return i=i?i:"省",""===n?this.output("请选择 "+i):this.output("",!0)},f7.validate.intro=function(t){var i=$.trim(t.val());return""===i?this.output("个性签名 不能为空！"):len<6?this.output("个性签名 不能小于6个字符！"):len>120?this.output("个性签名 不能大于120个字符！"):this.output("",!0)},f7.validate.email=function(t){var i=/^([\.a-z0-9_-])+@([a-z0-9_-])+(\.[a-z0-9_-])+/i,n=$.trim(t.val());return""===n?this.output("邮箱地址 不能为空！"):i.test(n)?this.output("",!0):this.output("邮箱地址 格式错误！")},f7.validate.realName=function(t){var i=$.trim(t.val());return""===i?this.output("姓名 不能为空！"):/\w+/.test(i)?this.output("姓名 不能含有字母数字字符！"):this.output("",!0)},f7.validate.certificateCardNo=function(t){var i=$.trim(t.val()),n=function(t){var i={11:"北京",12:"天津",13:"河北",14:"山西",15:"内蒙古",21:"辽宁",22:"吉林",23:"黑龙江",31:"上海",32:"江苏",33:"浙江",34:"安徽",35:"福建",36:"江西",37:"山东",41:"河南",42:"湖北",43:"湖南",44:"广东",45:"广西",46:"海南",50:"重庆",51:"四川",52:"贵州",53:"云南",54:"西藏",61:"陕西",62:"甘肃",63:"青海",64:"宁夏",65:"新疆",71:"台湾",81:"香港",82:"澳门",91:"国外"};if(!t||!/^\d{6}(18|19|20)?\d{2}(0[1-9]|1[12])(0[1-9]|[12]\d|3[01])\d{3}(\d|X)$/i.test(t))return!1;if(!i[t.substr(0,2)])return!1;if(18==t.length){t=t.split("");for(var n=[7,9,10,5,8,4,2,1,6,3,7,9,10,5,8,4,2],o=[1,0,"X",9,8,7,6,5,4,3,2],e=0,a=0,p=0,r=0;r<17;r++)a=t[r],p=n[r],e+=a*p;o[e%11];if(o[e%11]!=t[17])return!1}return!0};return""===i?this.output("身份证号 不能为空！"):n(i)?this.output("",!0):this.output("身份证号 格式错误！")},f7.validate.tel=function(t){var i=$.trim(t.val()),n=/^1[3|4|5|8][0-9]\d{8}$/;return""===i?this.output("手机号 不能为空！"):n.test(i)?this.output("",!0):this.output("手机号 格式错误！")},f7.validate.verify=function(t){var i=$.trim(t.val()),n=i.length;return""===i?this.output("验证码 不能为空！"):n<6?this.output("验证码 必需为6个字符！"):this.output("",!0)},f7.validate.checkcode=function(t){var i=$.trim(t.val()),n=i.length;return""===i?this.output("验证码 不能为空！"):n<5?this.output("验证码 必需为5个字符！"):this.output("",!0)},f7.validate.oldPassword=function(t){var i=$.trim(t.val()),n=i.length;return 0===n?this.output("原始密码 不能为空！"):n<6?this.output("原始密码 不能小于6个字符！"):this.output("",!0)},f7.validate.password=function(t){var i=$.trim(t.val()),n=i.length;return 0===n?this.output("密码 不能为空！"):n<6?this.output("密码 不能小于6个字符！"):/\d+/.test(i)&&/[a-z]+/i.test(i)?this.output("",!0):this.output("密码 必须含有字母与数字字符！")},f7.validate.confirmPassword=function(t,i){var n=$.trim(t.val()),o=$.trim(i.val());return""===o?this.output("确认密码 不能为空！"):n!=o?this.output("确认密码 错误！"):this.output("",!0)},f7.validate.newOldPassword=function(t,i){var n=$.trim(t.val()),o=$.trim(i.val());return""===n?this.output("新密码 不能为空！"):n==o?this.output("新密码 未变更！"):this.output("",!0)},f7.validate.passwordStrength=function(t,i){var n=$.trim(t.val()),o=n.length,e=i.find("li"),a=-1;if(e.removeClass("current"),o<6?a=-1:o<=9?a=0:o<=12?a=1:o>=12&&(a=2),a!=-1)for(var p=0;p<=a;p++)e.filter(":eq("+p+")").addClass("current");this.output(a)};